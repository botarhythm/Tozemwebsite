# SKILL: Xserver Management with Rollback Flow

Xserverの設定（DNS、アクセス制限、メール等）をAIエージェントが安全に操作するための手順書です。

## 1. 変更前のバックアップ (Snapshot)

設定を変更する前に、必ず現在の状態をローカルファイルに保存します。

- **DNS設定の場合**:
  ```bash
  xserver dns > backup_dns_YYYYMMDD_HHMM.txt
  ```

## 2. 変更の実行 (Execution)

変更後の予期せぬ動作を防ぐため、1つずつ実行し結果を確認します。

- **コマンド例**:
  `xserver` コマンドを使用して、特定のレコードを追加・編集します。
  > [!TIP]
  > 実行後は、必ず `xserver dns` 等で意図通りに反映されたか再確認します。

## 3. ロールバック手順 (Rollback)

万が一問題が発生した場合、または「戻して」と指示があった場合は以下の手順を踏みます。

1.  **バックアップの確認**: 手順1で作成した `backup_dns_...txt` を読み込み、元の値を特定します。
2.  **逆操作の実行**: 
    - 追加した場合は削除: `xserver dns delete ...` (ツールのサポート範囲内)
    - 編集した場合は元の値で更新。
3.  **整合性チェック**: 再度 `xserver dns` を実行し、バックアップの内容と一致するか目視/スクリプトで比較します。

## 4. セキュリティガイドライン

- **ログインの維持**: `xserver login` は初回のみ必要ですが、セッションが切れた場合はユーザーに再入力を促します。
- **機密情報**: パスワードや機密性の高いレコードを扱う際は、直接ログに出力されないよう配慮します。

---
**Japanese Translation (日本語訳):**
このSkillは、Xserverの安全な操作とロールバック（復元）のための標準フローを定義したものです。変更前のバックアップ保存、段階的な実行、そして保存したファイルに基づく復元手順を義務付けています。
